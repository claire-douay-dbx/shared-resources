# command: [
#   "streamlit",
#   "run",
#   "app.py",
#   "--server.port=8080",
#   "--server.enableCORS=false",
#   "--server.enableXsrfProtection=false"
# ]

command:
  - streamlit
  - run
  - app.py

env:
  - name: "DATABRICKS_WAREHOUSE_ID"
    value: "your-warehouse-id"

  - name: "ALLOWED_CATALOGS"
    value: "example_cat_1,example_cat_2"

  - name: "ALLOWED_SCHEMAS"
    value: ""

# Enable on-behalf-of-user authentication to get user tokens
# This allows the app to access X-Forwarded-Access-Token header
# and perform operations as the logged-in user
resources:
  - name: oauth
    description: "OAuth configuration for on-behalf-of-user authentication, to check if user logging in is approved reviewer"
    oauth:
      client_scopes:
        - all-apis
